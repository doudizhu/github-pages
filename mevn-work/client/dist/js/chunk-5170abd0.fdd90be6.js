(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5170abd0"],{"0997":function(e,t,r){},5544:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view"},[r("div",{staticClass:"project-info"},[r("p",[e._v("郑 明 "+e._s(e.orderInfo.project.projectNo))]),r("div",{staticClass:"info"},[r("div",[r("p",[r("b",[e._v(e._s(e.orderInfo.project.ratePerYear))]),r("span",[e._v("%/年")])]),r("label",[e._v("回报")])]),r("div",[e.orderInfo.project.dueTime.month?r("p",[r("b",[e._v(e._s(e.orderInfo.project.dueTime.month))]),r("span",[e._v("个月")])]):r("p",[r("b",[e._v(e._s(e.orderInfo.project.dueTime.day))]),r("span",[e._v("天")])]),r("label",[e._v("项目期限")])]),r("div",[r("p",{staticStyle:{position:"relative"}},[r("b",[e._v(e._s(e.orderInfo.project.balance))]),r("span",[e._v(" 元")])]),r("label",[e._v("剩余额度")])])])]),r("cube-form",{attrs:{model:e.model,options:e.options},on:{submit:e.submitHandler}},[r("div",{staticClass:"container-cube-form-item",staticStyle:{"font-size":"12px"}},[e._v("账户 可用余额（元）："+e._s(e.userInfo.availableAmt))]),r("cube-form-item",{attrs:{field:e.fields[0]}},[r("cube-input",{staticStyle:{"font-size":"16px"},attrs:{placeholder:"请输入出借金额，100元起投，100元递增"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("span",{staticClass:"amount-prepend"},[e._v("￥")])]},proxy:!0}]),model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1),r("cube-form-item",{staticClass:"container-cube-form-item",attrs:{field:e.fields[1]}},[r("cube-checkbox",{staticClass:"with-click",model:{value:e.model.checked,callback:function(t){e.$set(e.model,"checked",t)},expression:"model.checked"}},[e._v("我已阅读并知悉"),r("a",{attrs:{href:"https://wap.daokoudai.com/help/riskTip"}},[e._v("《网络借贷风险提示》")]),e._v("和"),r("a",{attrs:{href:"https://wap.daokoudai.com/help/forbidAction"}},[e._v("《网络借贷平台禁止性行为》")])])],1),0===e.orderInfo.project.balance?r("cube-button",{attrs:{disabled:!0}},[e._v("已投满")]):r("cube-button",{attrs:{type:"submit"}},[e._v("确认")])],1)],1)},s=[],o=(r("96cf"),r("3b8d")),a=r("d225"),i=r("b0b4"),c=r("308d"),u=r("6bb5"),l=r("4e2b"),p=r("9ab4"),d=r("48b8"),m=r("d257"),b=r("60a3"),f=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.userInfo={},e.orderInfo={project:{dueTime:{}}},e.selectedLabel="",e.model={amount:"",checked:""},e.fields=[{type:"input",modelKey:"amount",props:{placeholer:"输入金额",clearable:!0},rules:{required:!0},trigger:"blur",messages:{required:"不能为空"}},{type:"checkbox",modelKey:"checked",rules:{required:!0},messages:{required:"请同意"}}],e.options={scrollToInvalidField:!0,layout:"fresh"},e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"created",value:function(){this.getInvestUserInfo(),this.getInvestOrder(),Object(d["d"])("amount")&&(this.model.amount=Object(d["d"])("amount"))}},{key:"mounted",value:function(){window.scrollTo(0,0)}},{key:"submitHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(m["c"])(this.userInfo)&&!Object(m["c"])(this.orderInfo)){e.next=3;break}return e.abrupt("return");case 3:if(!(+this.model.amount>+this.orderInfo.project.balance)){e.next=8;break}return this.$createToast({type:"warn",time:2e3,txt:"超过项目剩余额度"}).show(),e.abrupt("return");case 8:if(!(+this.model.amount>+this.userInfo.availableAmt)){e.next=11;break}return this.$createToast({type:"warn",time:2e3,txt:"超过账户可用余额"}).show(),e.abrupt("return");case 11:return this.userInfo.applyedCA||this.$request({api:"applyCA",token:this.$store.state.token}),e.next=14,this.$request({api:"investConfirm",params:{amount:this.model.amount,projectNo:this.$route.params.id,originReturnUrl:this.$store.state.originReturnUrl,token:this.$store.state.token,rewardAmt:0,couponIds:"",acceptedAgreement:!0,transferRiskRemind:!0,bondInvestAgreement:!0,returnUrl:"".concat(this.$store.state.originNodeServer,"/project/investReturn")},method:"post"});case 14:r=e.sent,"0000"===r.resCode?this.$request({formSubmitData:{url:r.shUrl,params:r.params,returnUrl:r.returnUrl}}):"E1070044"!==r.resCode&&this.$router.push("/project/investReturn?result=false");case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInvestUserInfo",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({api:"getInvestUserInfo",params:{projectNo:this.$route.params.id,token:this.$store.state.token}});case 2:t=e.sent,"0000"===t.resCode&&(this.userInfo=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInvestOrder",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({api:"getInvestOrder",params:{projectNo:this.$route.params.id,token:this.$store.state.token}});case 2:t=e.sent,"0000"===t.resCode&&(this.orderInfo=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(b["d"]);f=Object(p["a"])([Object(b["a"])({components:{}})],f);var h=f,v=h,k=(r("bb66"),r("2877")),j=Object(k["a"])(v,n,s,!1,null,"7f5c4962",null);t["default"]=j.exports},bb66:function(e,t,r){"use strict";var n=r("0997"),s=r.n(n);s.a}}]);