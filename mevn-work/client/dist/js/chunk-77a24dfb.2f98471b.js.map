{"version":3,"sources":["webpack:///./src/pages/msfWap/views/demo/CubeSlideTabPullSyncUnderlineUpdateData.vue?a70a","webpack:///./src/pages/msfWap/views/demo/CubeSlideTabPullSyncUnderlineUpdateData.vue?70c4","webpack:///./src/pages/msfWap/views/demo/CubeSlideTabPullSyncUnderlineUpdateData.vue?4d26","webpack:///./src/pages/msfWap/views/demo/CubeSlideTabPullSyncUnderlineUpdateData.vue?9773","webpack:///./src/pages/msfWap/views/demo/CubeSlideTabPullSyncUnderlineUpdateData.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","tabs","model","value","callback","$$v","selectedLabel","expression","staticClass","initialIndex","listenScroll","probeType","on","changePage","scroll","_l","item","index","key","refInFor","list","options","onPullingDown","onPullingUp","hero","_v","_s","staticRenderFns","label","current","method","$refs","cubeScroll","page","currentPage","totalPages","$createToast","type","txt","time","show","console","log","setTimeout","forceUpdate","status","$request","api","params","token","$store","state","size","data","resCode","length","clone","cloneDeep","concat","pos","x","Math","abs","tabItemWidth","tabNav","$el","clientWidth","slideScrollerWidth","slide","scrollerWidth","deltaX","setSliderTransform","pullDownRefresh","threshold","stop","pullUpLoad","scrollbar","components","component"],"mappings":"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","file":"js/chunk-77a24dfb.2f98471b.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=style&index=0&id=3b1743e2&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=style&index=0&id=3b1743e2&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('cube-tab-bar',{ref:\"tabNav\",attrs:{\"data\":_vm.tabs,\"showSlider\":\"\"},model:{value:(_vm.selectedLabel),callback:function ($$v) {_vm.selectedLabel=$$v},expression:\"selectedLabel\"}}),_c('div',{staticClass:\"tab-slide-container\"},[_c('cube-slide',{ref:\"slide\",attrs:{\"initial-index\":_vm.initialIndex,\"data\":_vm.tabs,\"auto-play\":false,\"show-dots\":false,\"options\":{listenScroll: true,probeType: 3},\"loop\":false},on:{\"change\":_vm.changePage,\"scroll\":_vm.scroll}},_vm._l((_vm.tabs),function(item,index){return _c('cube-slide-item',{key:index},[_c('cube-scroll',{ref:\"cubeScroll\",refInFor:true,attrs:{\"data\":item.list,\"options\":_vm.options},on:{\"pulling-down\":_vm.onPullingDown,\"pulling-up\":_vm.onPullingUp}},[_c('ul',_vm._l((item.list),function(hero,index){return _c('li',{key:index,staticClass:\"tab-panel-li\"},[_vm._v(_vm._s(hero))])}),0)])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _ from 'lodash';\nimport { getArrayObjIndexByKey, isEmpty } from \"@/utils\";\nimport { Component, Vue } from 'vue-property-decorator';\n@Component({\n  components: {},\n})\nexport default class ViewComponent extends Vue {\n  /**data */\n  selectedLabel = '天辉'\n  tabs: any = [{\n    label: '天辉',\n    key: '2;3;4;5',\n    list: ['敌法师', '卓尔游侠', '主宰', '米拉娜', '变体精灵', '幻影长矛手', '复仇之魂', '力丸', '矮人狙击手', '圣堂刺客', '露娜', '赏金猎人', '熊战士', '矮人狙击手', '圣堂刺客', '露娜', '赏金猎人', '熊战士', '矮人狙击手', '圣堂刺客', '露娜', '赏金猎人', '熊战士', '矮人狙击手', '圣堂刺客', '露娜', '赏金猎人', '熊战士', '矮人狙击手', '圣堂刺客', '露娜', '赏金猎人', '熊战士'],\n  }, {\n    label: '夜魇',\n    key: '4',\n    list: ['血魔', '影魔', '剃刀', '剧毒术士', '虚空假面', '幻影刺客', '冥界亚龙', '克林克兹', '育母蜘蛛', '编织者', '幽鬼', '司夜刺客', '米波'],\n  }]\n  /**computed */\n  get initialIndex() {\n    return getArrayObjIndexByKey(this.tabs, { label: this.selectedLabel })\n  }\n  get options() {\n    return {\n      pullDownRefresh: {\n        threshold: 60,\n        stop: 40,\n        txt: '更新成功'\n      },\n      pullUpLoad: {},\n      scrollbar: true,\n    }\n  }\n\n  /**life hook */\n  created(){\n    this.changePage(this.initialIndex);\n  }\n\n  /**method */\n  async changePage(current: any, method:any='get') {\n    this.selectedLabel = this.tabs[current].label\n    // // console.log('当前轮播图序号为:' + current)\n    const index = current;\n    const item:any = this.tabs[index];\n    const list:any = item ? (isEmpty(item.list) ? [] : item.list) : [];\n    const scroll:any = this.$refs.cubeScroll ? (this.$refs.cubeScroll as any)[index] : {};\n    if(method==='get'){ // 切换tab获取\n      if(item.page){ // 已激活过，直接跳出\n        return\n      }\n    }\n    \n    // 分页数据处理\n    let page;\n    if(method==='put'){\n      page = 1\n    }else if( method === 'patch'){\n      const currentPage = item.page.currentPage\n      const totalPages = item.page.totalPages\n      if(currentPage < totalPages){\n        page = currentPage+1\n      }else{\n        this.$createToast({\n          type: 'warn',\n          txt: `无更多数据`,\n          time: 1500,\n        }).show()\n        console.log('scroll:',scroll)\n        setTimeout(()=>{\n          console.log('scroll after:',scroll)\n          scroll && scroll.forceUpdate();\n        },1000);\n        return;\n      }\n    }\n\n    // 发请求\n    const status = item.key\n    const data = await this.$request({\n      api:'userInvestRecord',\n      params:{\n        token: this.$store.state.token,\n        status,\n        page,\n        size:10,\n      }\n    })\n\n    if(data.resCode === '0000'){\n      item.page = data.page\n      const list = data.list\n      if(list.length === 0) return;\n      if(method==='get'){\n        this.tabs[index].list = list;\n      }\n      else if(method==='put'){\n        this.tabs[index].list = list;\n      }\n      else if(method === 'patch'){\n        const clone:any = _.cloneDeep(item.list);\n        item.list = clone.concat(list);\n      }\n    }\n  }\n  scroll(pos: any) {\n    const x = Math.abs(pos.x)\n    const tabItemWidth = (this.$refs.tabNav as any).$el.clientWidth\n    const slideScrollerWidth = (this.$refs.slide as any).slide.scrollerWidth;\n    const deltaX = x / slideScrollerWidth * tabItemWidth;\n    (this.$refs.tabNav as any).setSliderTransform(deltaX)\n  }\n  onPullingDown() {\n    // 模拟更新数据\n    setTimeout(() => {\n      this.changePage(this.initialIndex,'put')\n    }, 1000)\n  }\n  onPullingUp() {\n    // 模拟更新数据\n    setTimeout(() => {\n      this.changePage(this.initialIndex,'patch')\n    }, 1000)\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=template&id=3b1743e2&scoped=true&lang=pug&\"\nimport script from \"./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=script&lang=ts&\"\nexport * from \"./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CubeSlideTabPullSyncUnderlineUpdateData.vue?vue&type=style&index=0&id=3b1743e2&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b1743e2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}