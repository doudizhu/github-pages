(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f8d9824"],{"04d3":function(e,t,r){},"386d":function(e,t,r){"use strict";var n=r("cb7c"),o=r("83a1"),a=r("5f1b");r("214f")("search",1,(function(e,t,r,i){return[function(r){var n=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=i(r,e,this);if(t.done)return t.value;var s=n(e),u=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var l=a(s,u);return o(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},"3e8f":function(e,t){},"48b8":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return u}));r("96cf");var n=r("3b8d"),o=(r("7618"),r("ac6a"),r("28a5"),r("386d"),function(){var e={};if(""===location.search)return e;var t=location.href,r=t.split("?")[1].split("&");return r.forEach((function(t){var r=t.split("=");e[r[0]]=r[1]})),e}),a=function(e){var t=o(),r=t[e]||"";return r},i=function(e){var t=e.self,r=e.dataSelector,n=e.textConcat,o=e.timeout,a=e.callback,i=o,s=setInterval((function(){i--,t[r]=n(i),0===i&&(a(),clearInterval(s))}),1e3)};r("3e8f"),r("df7c");function s(e){var t=this,r=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!0===o){var a=null;return function(){var o=t,i=r,s=+new Date;(null===a||s>=a+n)&&(e.apply(o,i),a=s)}}var i=null,s=null;return function(){var t=this,r=arguments,o=Date.now();null===i?null===s&&(s=setTimeout((function(){e.apply(t,r),i=o+n}),n)):o>=i+n&&(e.apply(t,r),i=o)}}function u(e,t){Object(n["a"])(regeneratorRuntime.mark((function r(){var n,o,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(e);case 2:return n=r.sent,r.next=5,n.blob();case 5:o=r.sent,a=window.URL.createObjectURL(o),i=document.createElement("a"),i.href=a,i.download=t,document.body.appendChild(i),i.click(),setTimeout((function(){return document.body.removeChild(i)}),1e3);case 13:case"end":return r.stop()}}),r)})))()}},5544:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view"},[r("div",{staticClass:"project-info"},[r("p",[e._v(e._s(e.orderInfo.project.coreEnterpriseShortName)+" "+e._s(e.orderInfo.project.projectNo))]),r("div",{staticClass:"info"},[r("div",[r("p",[r("b",[e._v(e._s(e.orderInfo.project.ratePerYear))]),r("span",[e._v("%/年")])]),r("label",[e._v("回报")])]),r("div",[e.orderInfo.project.dueTime.month?r("p",[r("b",[e._v(e._s(e.orderInfo.project.dueTime.month))]),r("span",[e._v("个月")])]):r("p",[r("b",[e._v(e._s(e.orderInfo.project.dueTime.day))]),r("span",[e._v("天")])]),r("label",[e._v("项目期限")])]),r("div",[r("p",{staticStyle:{position:"relative"}},[r("b",[e._v(e._s(e.orderInfo.project.balance))]),r("span",[e._v(" 元")])]),r("label",[e._v("剩余额度")])])])]),r("cube-form",{attrs:{model:e.model,options:e.options},on:{submit:e.submitHandler}},[r("div",{staticClass:"container-cube-form-item",staticStyle:{"font-size":"8px"}},[e._v("账户可用余额（元）："+e._s(e.userInfo.availableAmt))]),r("cube-form-item",{attrs:{field:e.fields[0]}},[r("cube-input",{staticStyle:{"font-size":"16px"},attrs:{placeholder:"请输入出借金额，100元起投，100元递增"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("span",{staticClass:"amount-prepend"},[e._v("￥")])]},proxy:!0}]),model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1),r("cube-form-item",{staticClass:"container-cube-form-item",attrs:{field:e.fields[1]}},[r("cube-checkbox",{staticClass:"with-click",model:{value:e.model.checked,callback:function(t){e.$set(e.model,"checked",t)},expression:"model.checked"}},[e._v("我已阅读并知悉"),r("a",{attrs:{href:"https://wap.daokoudai.com/help/riskTip"}},[e._v("《网络借贷风险提示》")]),e._v("和"),r("a",{attrs:{href:"https://wap.daokoudai.com/help/forbidAction"}},[e._v("《网络借贷平台禁止性行为》")])])],1),r("cube-button",{attrs:{type:"submit"}},[e._v("确认")])],1)],1)},o=[],a=(r("96cf"),r("3b8d")),i=r("d225"),s=r("b0b4"),u=r("308d"),c=r("6bb5"),l=r("4e2b"),f=r("9ab4"),p=r("48b8"),d=r("d257"),h=r("60a3"),v=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.userInfo={},e.orderInfo={project:{dueTime:{}}},e.selectedLabel="",e.model={amount:"",checked:""},e.fields=[{type:"input",modelKey:"amount",props:{placeholer:"输入金额",clearable:!0},rules:{required:!0},trigger:"blur",messages:{required:"不能为空"}},{type:"checkbox",modelKey:"checked",rules:{required:!0},messages:{required:"请同意"}}],e.options={scrollToInvalidField:!0,layout:"fresh"},e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){this.getInvestUserInfo(),this.getInvestOrder(),Object(p["c"])("amount")&&(this.model.amount=Object(p["c"])("amount"))}},{key:"submitHandler",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(d["c"])(this.userInfo)&&!Object(d["c"])(this.orderInfo)){e.next=3;break}return e.abrupt("return");case 3:if(!(+this.model.amount>+this.orderInfo.project.balance)){e.next=8;break}return this.$createToast({type:"warn",time:2e3,txt:"超过账户可用余额"}).show(),e.abrupt("return");case 8:if(!(+this.model.amount>+this.userInfo.availableAmt)){e.next=11;break}return this.$createToast({type:"warn",time:2e3,txt:"超过项目剩余额度"}).show(),e.abrupt("return");case 11:return this.userInfo.applyedCA||this.$request({api:"applyCA",token:this.$store.state.token}),e.next=14,this.$request({api:"investConfirm",params:{amount:this.model.amount,projectNo:this.$route.params.id,originReturnUrl:this.$store.state.originReturnUrl,token:this.$store.state.token,rewardAmt:0,couponIds:"",acceptedAgreement:!0,transferRiskRemind:!0,bondInvestAgreement:!0,returnUrl:"".concat(this.$store.state.originNodeServer,"/project/investReturn")},method:"post"});case 14:r=e.sent,"0000"===r.resCode?this.$request({formSubmitData:{url:r.shUrl,params:r.params,returnUrl:r.returnUrl}}):"E1070044"!==r.resCode&&this.$router.push("/project/investReturn?result=false");case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInvestUserInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({api:"getInvestUserInfo",params:{projectNo:this.$route.params.id,token:this.$store.state.token}});case 2:t=e.sent,"0000"===t.resCode&&(this.userInfo=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInvestOrder",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({api:"getInvestOrder",params:{projectNo:this.$route.params.id,token:this.$store.state.token}});case 2:t=e.sent,"0000"===t.resCode&&(this.orderInfo=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(h["d"]);v=Object(f["a"])([Object(h["a"])({components:{}})],v);var m=v,b=m,g=(r("57e4"),r("2877")),k=Object(g["a"])(b,n,o,!1,null,"23219e30",null);t["default"]=k.exports},"57e4":function(e,t,r){"use strict";var n=r("04d3"),o=r.n(n);o.a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){r=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":e.slice(r,n)}function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var i=a>=0?arguments[a]:e.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return t=r(o(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),i="/"===a(e,-1);return e=r(o(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),a=n(r.split("/")),i=Math.min(o.length,a.length),s=i,u=0;u<i;u++)if(o[u]!==a[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!o){n=a;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,a=0,i=e.length-1;i>=0;--i){var s=e.charCodeAt(i);if(47!==s)-1===n&&(o=!1,n=i+1),46===s?-1===t?t=i:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){r=i+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("f28c"))}}]);
//# sourceMappingURL=chunk-0f8d9824.c92efa0d.js.map